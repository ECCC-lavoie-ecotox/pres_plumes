---
title: "Presentation"
author: "inSileco Team"
date: "2020/12/15"
output:
  xaringan::moon_reader:
    css: [default, rd.css, rd-font.css, "hygge"]
    lib_dir: assets
    seal: false
    nature:
      highlightStyle: dracula
      countIncrementalSlides: false
      beforeInit: "macros.js"
---


class: title-slide, middle

<img src="https://github.com/ECCC-lavoie-ecotox/toxbox/blob/master/man/figures/logo.png?raw=true" width="200px"></img>

# Introduction à la base de données **PLUMES**

.instructors[
  Steve Vissault
  <br><br>
  `r format(Sys.time(), '%B %d, %Y')`
]


```{r setup, include = FALSE}
knitr::opts_chunk$set(
  comment = "#>>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  fig.width = 7,
  fig.height = 5.25,
  fig.align = 'center',
  width = 120
)
mypar <- list(fg = "#37abc8", bg = "transparent", las = 1)
library(icons)
```

---

class: clear, middle

## Plan de formation

- Rapide vue d'ensemble de la base de données (30 minutes)
  - Structure de la base de données
    - Slide 1: Grandes familles de données 
      - F1: Données de mesures de contaminant
      - F2: Données de captures et traits morphométriques
    - Slide 2: Qui fournit l'information?
      - Intervenant 1: Biologiste 
      - Intervenant 2: Chimiste
    - Slide 3: Schéma de la base de données avec table colorié par famille (reprendre le SVG)
  - Technologies impliquées dans la solution
    - Slide 4: Schéma = BD + Package + application
    - Slide 5: Qui est ou?, Comment installer et lancer l'application?
    - Slide 6: Limites SQLite (Typage + écriture concurrente)
    - Slide 7: Limites Disque réseau
    - Slide (Optionnelle): Dépot Github + tests unitaires + CD
  - Données actuels
    - Slide 8: Table de référence sur les contaminants
    - Slide 8: Contaminants - Nombre de mesures par année par grande famille
    - Slide 9: Captures - Nombre de captures
    - Slide 10: Notes sur la bague, comment le tracking est consignés dans la base de données
    - Slide 11: Problèmes rencontrées (Qualité des données) et qui nécessiterait d'être addressé
  - Rapports importés vs non-importés
    - Slide 12: État des lieux, quelles sont les rapports non-importés vs importés?
- Importer des données (1.5 heure)
    - Slide 13: Présentation d'une procédure d'importation avec le package plumes = Passer en revue le document (20 minutes)
    - Slide 14: Respecter l'inrtégrité référentielle entre les tables
    - Slide 15: Comment savoir si un contaminant ou une espèce existe déjà dans la base de données? 
    - Exercice: On importe une feuille de données ensemble
- Interroger les données (1 heure)
    - Dans R avec le package PLUMES
      - Slide 16: Extraire l'ensemble des données pour un site spécifique?
      - Slide 17: Extraire l'ensemble des données pour un contaminants?
      - Slide 18: Extraire l'ensemble des données pour une espèce en particulier?
    - Via l'application shiny
---

class: inverse, center, middle

# Workshop objectives

![:custom_hr]()

## Just do it (`r icons::ionicons("logo-markdown")` + `r icons::fontawesome("r-project")`)

---

# Exercice + countdown

1. Do that 
2. Do that 
3. Do that 
4. Do that 
5. Do that 

```{r, echo=FALSE}
countdown::countdown(minutes = 3, seconds = 0)
```

---

class: middle, center, clear


.font180[EMPTY]
---

# Headers (level 1)

## Header 2

### Header 3

#### Header 4

##### Header 5

###### Header 6


---
# Format more

.pull-left[

#### Classes

normal size ( $\LaTeX$-friendly terms)

`.huge[huge]` &nbsp; .huge[huge]

`.Large[Large]` &nbsp; .Large[Large]

`.large[large]` &nbsp; .large[large]

`.small[small]` &nbsp; .small[small]

`.tiny[tiny]` &nbsp; .tiny[tiny]

`.sotiny[sotiny]` &nbsp; .sotiny[sotiny]

`.font120[font 120%]` &nbsp; .font120[font 120%]

]


.pull-right[

#### Special class

- `.alert[alert]` .alert[alert]

- `.comment[comment]` .comment[comment]

#### Use remarkjs's macros

- `![:scale 40%](path/to/img.png)` to scale an image

- `![:addlogo 8%]()` &nbsp; ![:addlogo 8%]()

]

???
Macros are easy to create


---
class: inverse, center, middle

# Use R!

## Few examples

---
# One call

```{r}
rnorm(88)
```

---
# Highlight your code


```{r results = "hold"}
val <- 2
{{ val*val }}
val2 <- 5
{{ val2 }}
```

---

# Widget example

```{r, message = FALSE, fig.width = 9, fig.height = 5.4}
library(mapview)
mapview(breweries)
```

---
# Custom plot 

```{r, echo = F, fig.align = "center"}
seqx <- seq(0,10, length = 100)
par(mypar)
par(bty = "l")
plot(seqx, cos(seqx), type = "l", lwd = 4)
abline(v = 6, h = 0, col = "#3fb3b2", lty = 2)
```


# Resources

- Github repository: https://github.com/rstudio/bookdown
- Bookdown book: https://bookdown.org/yihui/bookdown/

